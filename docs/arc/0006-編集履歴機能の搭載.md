# ADR 6 : 編集履歴機能の搭載

<!-- ADR ナンバー : タイトル -->

## Status : 🟡 提案

<!--
※ここから選んでステータスの横に貼っ付ける
🟡提案
🟢承認
🔴廃止
-->

## Context

<!--
問題の背景や定義
事実だけを描く
-->

Git や wiki のように過去の編集履歴を辿ることはできないため、一度上書き知ると過去には戻れない。

## Decision

<!-- 提案、すること -->

編集履歴テーブルを作成し、更新するごとに過去の日記状態を格納する。

## Consequences

<!-- Decisionによって得られるもの -->

### Pros

-   過去の日記状態を辿ることができる
-   上書きやコンフリクトが起きた際に復元しやすくなる

### Cons

-   データベースの容量が増える
-   日記は繰り返し編集するものではないため需要がない

## Notes

あってもよいが、なくても良い機能な気がする。
正直日記をそんなに更新するものでなければデータはたまらないし、文字データにすぎないので、懸念すべきほどではないのかも。
テーブルも Diary からリレーションさせればいいだけだし……

逆に言えばあとからこの機能入れることが難しくない(コア機能やアーキテクチャを変更する訳ではない)ので、今急いで実装する必要はないといえる。

## References
